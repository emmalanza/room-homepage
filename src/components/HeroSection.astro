---
import angleLeft from "../assets/images/icon-angle-left.svg";
import angleRight from "../assets/images/icon-angle-right.svg";
import aboutDark from "../assets/images/image-about-dark.jpg";
import aboutLight from "../assets/images/image-about-light.jpg";;
---
<header class="absolute top-0 left-0 w-full z-20 p-4 md:p-8 bg-transparent">
  <div class="flex items-center justify-between relative">
    
    <p class="md:hidden absolute left-1/2 -translate-x-1/2 text-white text-2xl z-40">
      room
    </p>

    <button id="menuButton" class="md:hidden text-white text-xl z-50 relative transition-colors">
      ☰
    </button>

    <div class="hidden md:flex items-center space-x-12">
      <p class="text-white font-bold text-2xl">room</p>
      <nav class="flex space-x-8">
        <a href="#home" class="text-white font-semibold hover:underline underline-offset-6">home</a>
        <a href="#about" class="text-white font-semibold hover:underline underline-offset-6">about</a>
        <a href="#shop" class="text-white font-semibold hover:underline underline-offset-6">shop</a>
        <a href="#contact" class="text-white font-semibold hover:underline underline-offset-6">contact</a>
      </nav>
    </div>
  </div>

  <div id="mobileMenu" class="hidden md:hidden fixed top-0 left-0 w-full h-20 bg-white z-40">

    <div class="flex items-center justify-between px-4 w-full h-full">

      <button id="closeButton" class="text-darkGray text-2xl font-extralight z-50">
        x
      </button>

      <nav class="flex space-x-6 text-xs">
        <a href="#home" class="text-black font-semibold hover:underline underline-offset-6">home</a>
        <a href="#about" class="text-black font-semibold hover:underline underline-offset-6">about</a>
        <a href="#shop" class="text-black font-semibold hover:underline underline-offset-6">shop</a>
        <a href="#contact" class="text-black font-semibold hover:underline underline-offset-6">contact</a>
      </nav>
    </div>

  </div>

  <script>
    const menuButton = document.getElementById('menuButton');
    const closeButton = document.getElementById('closeButton');
    const mobileMenu = document.getElementById('mobileMenu');
  
    menuButton?.addEventListener('click', () => {
      mobileMenu?.classList.remove('hidden');
      menuButton?.classList.add('hidden'); 
    });
  
    closeButton?.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
      menuButton?.classList.remove('hidden'); 
    });
  </script>
  
</header>

<section class="flex flex-col md:flex-row h-auto md:h-2/3 relative">
  <div class="w-full md:w-2/3 h-64 md:h-auto relative">
    <img id="slider-image" alt="Slider Image" loading="lazy" class="w-full h-full object-cover" />
    <div class="absolute bottom-0 right-0 flex md:hidden z-10">
      <button id="prev-btn-mobile" class="bg-black hover:bg-veryDarkGray px-4 py-3 transition-colors">
        <img class="w-[11px] h-6" src={angleLeft.src} alt="Previous" />
      </button>
      <button id="next-btn-mobile" class="bg-black hover:bg-veryDarkGray px-4 py-3 transition-colors">
        <img class="w-[11px] h-6" src={angleRight.src} alt="Next" />
      </button>
    </div>
  </div>

  <div class="relative flex flex-col justify-center p-8 w-full md:w-1/3">
    <div class="flex flex-col self-center max-w-[400px] max-h-[300px]">

      <h2 id="hero-title" class="text-xl lg:text-3xl 2xl:text-5xl font-bold">Discover innovative ways to decorate</h2>
      <p id="hero-text" class="text-xs xl:text-md 2xl:text-xl text-darkGray mt-2">
        We provide unmatched quality, comfort, and style for property owners
        across the country. Our experts combine form and function in
        bringing your vision to life. Create a room in your own style with
        our collection and make your property a reflection of you and what
        you love.
      </p>

      <div class="flex items-center gap-4 mt-6 group cursor-pointer transition-colors duration-300">
        <a class="uppercase tracking-[5px] text-xs lg:tracking-[10px] lg:text-md 2xl:text-xl text-black group-hover:text-gray-500 transition-colors duration-300">
          Shop now
        </a>
        <svg class="w-6 h-2 lg:w-10 lg:h-3 fill-current text-black group-hover:text-gray-500 transition-colors duration-300" viewBox="0 0 40 12" xmlns="http://www.w3.org/2000/svg">
          <path d="M34.05 0l5.481 5.527h.008v.008L40 6l-.461.465v.063l-.062-.001L34.049 12l-.662-.668 4.765-4.805H0v-1h38.206l-4.82-4.86L34.05 0z" fill="currentColor" fill-rule="nonzero" />
        </svg>
      </div>

    </div>

    <div class="hidden md:flex absolute bottom-0 left-0 w-1/4">
      <button
        id="prev-btn"
        class="bg-black hover:bg-veryDarkGray w-1/2 flex items-center justify-center p-4 xl:p-6 2xl:p-10
        transition-colors duration-300 ease-in-out cursor-pointer" 
      >
        <img class="w-4 xl:w-5 2xl:w-6 h-4 2xl:h-6" src={angleLeft.src} alt="Previous" />
      </button>
    
      <button
        id="next-btn"
        class="bg-black hover:bg-veryDarkGray w-1/2 flex items-center justify-center p-4 xl:p-6 2xl:p-10
        transition-colors duration-300 ease-in-out cursor-pointer"
      >
        <img class="w-4 2xl:w-6 h-4 2xl:h-6" src={angleRight.src} alt="Next" />
      </button>
    </div>
  </div>
</section>

<section class="h-auto md:h-1/3 grid grid-cols-1 md:grid-cols-4 items-center">
  <div class="col-span-1 w-full h-full">
    <img src={aboutDark.src} alt="About Dark" class="w-full h-full object-cover" />
  </div>
  <div class="col-span-2 flex flex-col justify-center p-8">
    <h2 class="text-xl font-bold mb-2 uppercase tracking-[10px]">About our furniture</h2>
    <p class="text-xs text-darkGray w-full md:w-[80%]">
      Our multifunctional collection blends design and function to suit your individual taste. Make each room unique, or pick a cohesive theme that best express your interests and what inspires you. Find the furniture pieces you need, from traditional to contemporary styles or anything in between. Product specialists are available to help you create your dream space.
    </p>
  </div>
  <div class="col-span-1 w-full h-full">
    <img src={aboutLight.src} alt="About Light" class="w-full h-full object-cover" />
  </div>
</section>

<script>
  import hero1M from "../assets/images/mobile-image-hero-1.jpg";
  import hero2M from "../assets/images/mobile-image-hero-2.jpg";
  import hero3M from "../assets/images/mobile-image-hero-3.jpg";
  import hero1D from "../assets/images/desktop-image-hero-1.jpg";
  import hero2D from "../assets/images/desktop-image-hero-2.jpg";
  import hero3D from "../assets/images/desktop-image-hero-3.jpg";

  const slides = [
    {
      imageMobile: hero1M.src,
      imageDesktop: hero1D.src,
      title: "Discover innovative ways to decorate",
      text: "We provide unmatched quality, comfort, and style for property owners across the country. Our experts combine form and function in bringing your vision to life. Create a room in your own style with our collection and make your property a reflection of you and what you love.",
    },
    {
      imageMobile: hero2M.src,
      imageDesktop: hero2D.src,
      title: "We are available all across the globe",
      text: "With stores all over the world, it’s easy for you to find furniture for your home or place of business. Locally, we’re in most major cities throughout the country. Find the branch nearest you using our store locator. Any questions? Don’t hesitate to contact us today.",
    },
    {
      imageMobile: hero3M.src,
      imageDesktop: hero3D.src,
      title: "Manufactured with the best materials",
      text: "Our modern furniture store provide a high level of quality. Our company has invested in advanced technology to ensure that every product is made as perfect and as consistent as possible. With three decades of experience in this industry, we understand what customers want for their home and office.",
    },
  ];

  let currentIndex = 0;

  function updateImage() {
    const sliderImage = document.getElementById("slider-image") as HTMLImageElement;
    const heroTitle = document.getElementById("hero-title");
    const heroText = document.getElementById("hero-text");

    const isMobile = window.innerWidth < 768;
    const slide = slides[currentIndex];

    if (sliderImage && heroTitle && heroText) {
      sliderImage.src = isMobile ? slide.imageMobile : slide.imageDesktop;
      heroTitle.textContent = slide.title;
      heroText.textContent = slide.text;
    }
  }

  function changeSlide(direction: "prev" | "next") {
    currentIndex = (currentIndex + (direction === "next" ? 1 : -1) + slides.length) % slides.length;
    updateImage();
  }

  function setupListeners() {
    const buttons = [
      { id: "prev-btn", dir: "prev" },
      { id: "next-btn", dir: "next" },
      { id: "prev-btn-mobile", dir: "prev" },
      { id: "next-btn-mobile", dir: "next" },
    ];

    buttons.forEach(({ id, dir }) => {
      const btn = document.getElementById(id);
      if (btn) {
        btn.addEventListener("click", () => changeSlide(dir as "prev" | "next"));
      }
    });

    window.addEventListener("resize", updateImage);
  }

  window.addEventListener("DOMContentLoaded", () => {
    updateImage();
    setupListeners();
  });
</script>
